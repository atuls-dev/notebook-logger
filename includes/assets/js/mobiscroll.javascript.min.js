/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).mobiscroll=t()}(this,function(){"use strict";var e,t,n,s,ne,i,he,a,r,fe,o,_=_||{},l={},ae={},c=[],u="undefined"!=typeof window,w=u&&window.matchMedia&&window.matchMedia("(prefers-color-scheme:dark)").matches,d=u?navigator.userAgent:"",h=u?navigator.platform:"",f=u?navigator.maxTouchPoints:0,m=/Safari/.test(d),p=d.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),me=u&&window.requestAnimationFrame||function(e){return setTimeout(e,20)},pe=u&&window.cancelAnimationFrame||function(e){clearTimeout(e)};function v(e){var t;for(t in e)if(void 0!==i[e[t]])return!0;return!1}function ve(e,t){if("touchstart"==e.type)t.__mbscTouched=1;else if(t.__mbscTouched)return delete t.__mbscTouched,!1;return!0}function be(e,t){for(var n,s,i=["t","webkitT","MozT","OT","msT"],a=getComputedStyle(e[0]),r=0;!n&&r<i.length;)void 0!==a[(s=i[r])+"ransform"]&&(n=a[s+"ransform"]),r++;return n=n.split(")")[0].split(", "),t?n[13]||n[5]:n[12]||n[4]}function ge(e,t,n,s){e&&e.addEventListener(t,n,s)}function ye(e,t,n,s){e&&e.removeEventListener(t,n,s)}function x(e,t){return!(!t||!e||1!==e.nodeType)&&(e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector).call(e,t)}function b(e,t,n){var s;try{s=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0})}catch(e){(s=document.createEvent("Event")).initEvent(t,!0,!0),s.detail=n}e.dispatchEvent(s)}/Android/i.test(p)?(e="android",(t=d.match(/Android\s+([\d.]+)/i))&&(c=t[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(p)||/iPhone|iPad|iPod/i.test(h)||"MacIntel"===h&&1<f?(e="ios",(t=d.match(/OS\s+([\d_]+)/i))&&(c=t[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(p)?e="wp":/Windows|MSIE/i.test(p)&&(e="windows"),n=c[0],s=c[1],u&&(o=window,document.createElement("canvas"),i=document.createElement("modernizr").style,he=function(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(v([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}(),fe=he.replace(/^-/,"").replace(/-$/,"").replace("moz","Moz"),ne=void 0!==i.animation?"animationend":"webkitAnimationEnd",i.transition,r=(a="ios"===e&&!m)&&o.webkit&&o.webkit.messageHandlers,i.touchAction);var g={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},y={readonly:"readOnly"},T=[],M=Array.prototype.slice;function C(e){return"function"==typeof e}function k(e){return"object"==typeof e}function D(e){return"number"==typeof e.length}function S(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function V(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function E(e,t){return"number"!=typeof t||g[V(e)]?t:t+"px"}var A,O=(A=function e(t,n){var s,i,a,r=[],o=0;if(t&&!n&&t instanceof L)return t;if(C(t))return e(document).ready(t);if(t)if("string"==typeof t)if(t=a=t.trim(),0<=a.indexOf("<")&&0<=a.indexOf(">")){var l="div";for(0===a.indexOf("<li")&&(l="ul"),0===a.indexOf("<tr")&&(l="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(l="tr"),0===a.indexOf("<tbody")&&(l="table"),0===a.indexOf("<option")&&(l="select"),(i=document.createElement(l)).innerHTML=a,o=0;o<i.childNodes.length;o++)r.push(i.childNodes[o])}else for(s=n||"#"!==t[0]||t.match(/[ .<>:~]/)?(n instanceof L&&(n=n[0]),(n||document).querySelectorAll(t)):[document.getElementById(t.split("#")[1])],o=0;o<s.length;o++)s[o]&&r.push(s[o]);else if(t.nodeType||t===window||t===document)r.push(t);else if(0<t.length&&t[0].nodeType)for(o=0;o<t.length;o++)r.push(t[o]);else e.isArray(t)&&(r=t);return new L(r)},L.prototype={ready:function(e){return(document.attachEvent?"complete"==document.readyState:"loading"!=document.readyState)?e(A):document.addEventListener("DOMContentLoaded",function(){e(A)},!1),this},concat:T.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(n){return A(A.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return A(M.apply(this,arguments))},addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),n=0;n<t.length;n++)for(var s=0;s<this.length;s++)void 0!==this[s].classList&&""!==t[n]&&this[s].classList.add(t[n]);return this},removeClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),n=0;n<t.length;n++)for(var s=0;s<this.length;s++)void 0!==this[s].classList&&""!==t[n]&&this[s].classList.remove(t[n]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var s=0;s<this.length;s++)void 0!==this[s].classList&&this[s].classList.toggle(t[n]);return this},closest:function(e,t){var n=this[0],s=!1;for(k(e)&&(s=A(e));n&&!(s?0<=s.indexOf(n):x(n,e));)n=n!==t&&n.nodeType!==n.DOCUMENT_NODE&&n.parentNode;return A(n)},attr:function(e,t){var n;if(1!==arguments.length||"string"!=typeof e){for(var s=0;s<this.length;s++)if(2===arguments.length)this[s].setAttribute(e,t);else for(var i in e)this[s][i]=e[i],this[s].setAttribute(i,e[i]);return this}if(this.length)return n=this[0].getAttribute(e),n||""===n?n:void 0},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=y[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var n=0;n<this.length;n++)this[n][e]=t;return this},val:function(e){if(void 0===e)return this.length&&this[0].multiple?A.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:void 0;if(this.length&&this[0].multiple)A.each(this[0].options,function(){this.selected=-1!=e.indexOf(this.value)});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(e,n,s,t){var i,a,r,o,l,c=e.split(" ");function u(e){for(var t=e.target;t;)A(t).is(n)&&s.call(t,e),t=t!==this?t.parentNode:null}function d(e,t,n,s){var i=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:i[1],event:i[0],listener:n,capture:s}),e.addEventListener(i[0],n,s)}for(o=0;o<this.length;o++)if(a=this[o],C(n)||!1===n)for(C(n)&&(t=s||!1,s=n),l=0;l<c.length;l++)-1!=(r=c[l]).indexOf(".")?d(a,r,s,t):a.addEventListener(r,s,t);else for(i=u.bind(a),l=0;l<c.length;l++)r=c[l],a.DomLiveListeners||(a.DomLiveListeners=[]),a.DomLiveListeners.push({listener:s,liveListener:i}),-1!=r.indexOf(".")?d(a,r,i,t):a.addEventListener(r,i,t);return this},off:function(e,t,n,s){var i,a,r,o,l,c,u,d=this;function h(e){var t,n,s,i,a,r=e.split("."),o=r[0],l=r[1];for(n=0;n<d.length;++n)if(a=(t=d[n]).DomNameSpaces){for(s=0;s<a.length;++s)(i=a[s]).namespace!=l||i.event!=o&&o||(t.removeEventListener(i.event,i.listener,i.capture),i.removed=!0);for(s=a.length-1;0<=s;--s)a[s].removed&&a.splice(s,1)}}for(r=e.split(" "),o=0;o<r.length;o++)for(a=r[o],l=0;l<this.length;l++)if(u=(i=this[l]).DomLiveListeners,C(t)||!1===t)C(t)&&(s=n||!1,n=t),0===a.indexOf(".")?h(a.substr(1)):i.removeEventListener(a,n,s);else{if(u)for(c=0;c<u.length;c++)u[c].listener===n&&i.removeEventListener(a,u[c].liveListener,s);i.DomNameSpaces&&i.DomNameSpaces.length&&a&&h(a)}return this},trigger:function(e,t){for(var n=e.split(" "),s=0;s<n.length;s++)for(var i=0;i<this.length;i++)b(this[i],n[s],t);return this},width:function(e){return void 0!==e?this.css("width",e):this[0]===window?window.innerWidth:this[0]===document?document.documentElement.scrollWidth:0<this.length?parseFloat(this.css("width")):null},height:function(e){if(void 0!==e)return this.css("height",e);if(this[0]===window)return window.innerHeight;if(this[0]!==document)return 0<this.length?parseFloat(this.css("height")):null;var t=document.body,n=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)},innerWidth:function(){var t=this;if(0<this.length){if(this[0].innerWidth)return this[0].innerWidth;var n=this[0].offsetWidth;return["left","right"].forEach(function(e){n-=parseInt(t.css(S("border-"+e+"-width"))||0,10)}),n}},innerHeight:function(){var t=this;if(0<this.length){if(this[0].innerHeight)return this[0].innerHeight;var n=this[0].offsetHeight;return["top","bottom"].forEach(function(e){n-=parseInt(t.css(S("border-"+e+"-width"))||0,10)}),n}},offset:function(){if(0<this.length){var e=this[0].getBoundingClientRect(),t=document.documentElement;return{top:e.top+window.pageYOffset-t.clientTop,left:e.left+window.pageXOffset-t.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function(e,t){var n,s,i=this[0],a="";if(arguments.length<2){if(!i)return;if("string"==typeof e)return i.style[e]||getComputedStyle(i,"").getPropertyValue(e)}if("string"==typeof e)t||0===t?a=V(e)+":"+E(e,t):this.each(function(){this.style.removeProperty(V(e))});else for(s in e)if(e[s]||0===e[s])a+=V(s)+":"+E(s,e[s])+";";else for(n=0;n<this.length;n++)this[n].style.removeProperty(V(s));return this.each(function(){this.style.cssText+=";"+a})},each:function(e){for(var t=0;t<this.length&&!1!==e.apply(this[t],[t,this[t]]);t++);return this},filter:function(e){for(var t=[],n=0;n<this.length;n++)C(e)?e.call(this[n],n,this[n])&&t.push(this[n]):x(this[n],e)&&t.push(this[n]);return new L(t)},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return 0<this.length&&x(this[0],e)},not:function(t){var n=[];if(C(t)&&void 0!==t.call)this.each(function(e){t.call(this,e)||n.push(this)});else{var s="string"==typeof t?this.filter(t):D(t)&&C(t.item)?M.call(t):A(t);k(s)&&(s=A.map(s,function(e){return e})),this.each(function(e,t){s.indexOf(t)<0&&n.push(t)})}return A(n)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(A(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return void 0===e?M.call(this):this[0<=e?e:e+this.length]},eq:function(e){if(void 0===e)return this;var t,n=this.length;return new L(n-1<e?[]:e<0?(t=n+e)<0?[]:[this[t]]:[this[e]])},append:function(e){var t,n;for(t=0;t<this.length;t++)if("string"==typeof e){var s=document.createElement("div");for(s.innerHTML=e;s.firstChild;)this[t].appendChild(s.firstChild)}else if(e instanceof L)for(n=0;n<e.length;n++)this[t].appendChild(e[n]);else this[t].appendChild(e);return this},appendTo:function(e){return A(e).append(this),this},prepend:function(e){var t,n;for(t=0;t<this.length;t++)if("string"==typeof e){var s=document.createElement("div");for(s.innerHTML=e,n=s.childNodes.length-1;0<=n;n--)this[t].insertBefore(s.childNodes[n],this[t].childNodes[0])}else if(e instanceof L)for(n=0;n<e.length;n++)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},prependTo:function(e){return A(e).prepend(this),this},insertBefore:function(e){for(var t=A(e),n=0;n<this.length;n++)if(1===t.length)t[0].parentNode.insertBefore(this[n],t[0]);else if(1<t.length)for(var s=0;s<t.length;s++)t[s].parentNode.insertBefore(this[n].cloneNode(!0),t[s]);return this},insertAfter:function(e){for(var t=A(e),n=0;n<this.length;n++)if(1===t.length)t[0].parentNode.insertBefore(this[n],t[0].nextSibling);else if(1<t.length)for(var s=0;s<t.length;s++)t[s].parentNode.insertBefore(this[n].cloneNode(!0),t[s].nextSibling);return this},next:function(e){return 0<this.length?e?this[0].nextElementSibling&&A(this[0].nextElementSibling).is(e)?new L([this[0].nextElementSibling]):new L([]):this[0].nextElementSibling?new L([this[0].nextElementSibling]):new L([]):new L([])},nextAll:function(e){var t=[],n=this[0];if(!n)return new L([]);for(;n.nextElementSibling;){var s=n.nextElementSibling;e?A(s).is(e)&&t.push(s):t.push(s),n=s}return new L(t)},prev:function(e){return 0<this.length?e?this[0].previousElementSibling&&A(this[0].previousElementSibling).is(e)?new L([this[0].previousElementSibling]):new L([]):this[0].previousElementSibling?new L([this[0].previousElementSibling]):new L([]):new L([])},prevAll:function(e){var t=[],n=this[0];if(!n)return new L([]);for(;n.previousElementSibling;){var s=n.previousElementSibling;e?A(s).is(e)&&t.push(s):t.push(s),n=s}return new L(t)},parent:function(e){for(var t=[],n=0;n<this.length;n++)null!==this[n].parentNode&&(e?A(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return A(A.unique(t))},parents:function(e){for(var t=[],n=0;n<this.length;n++)for(var s=this[n].parentNode;s;)e?A(s).is(e)&&t.push(s):t.push(s),s=s.parentNode;return A(A.unique(t))},find:function(e){for(var t=[],n=0;n<this.length;n++)for(var s=this[n].querySelectorAll(e),i=0;i<s.length;i++)t.push(s[i]);return new L(t)},children:function(e){for(var t=[],n=0;n<this.length;n++)for(var s=this[n].childNodes,i=0;i<s.length;i++)e?1===s[i].nodeType&&A(s[i]).is(e)&&t.push(s[i]):1===s[i].nodeType&&t.push(s[i]);return new L(A.unique(t))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t;for(e=0;e<arguments.length;e++){var n=A(arguments[e]);for(t=0;t<n.length;t++)this[this.length]=n[t],this.length++}return this},before:function(e){return A(e).insertBefore(this),this},after:function(e){return A(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return M.call(t.childNodes)})},nextUntil:function(e){for(var t=this,n=[];t.length&&!t.filter(e).length;)n.push(t[0]),t=t.next();return A(n)},prevUntil:function(e){for(var t=this,n=[];t.length&&!A(t).filter(e).length;)n.push(t[0]),t=t.prev();return A(n)},detach:function(){return this.remove()}},A.fn=L.prototype,A);function L(e){var t=0;for(t=0;t<e.length;t++)this[t]=e[t];return this.length=e.length,A(this)}var H=O;function N(r,o,l){_[r]=function(e,t){var n,s,i={},a=t||{};return!1!==l&&(a.preset=r),H(e).each(function(){n=new o(this,a),i[this.id]=n}),1==(s=Object.keys(i)).length?i[s[0]]:i}}function se(){}function we(e){return 0<=e-parseFloat(e)}function _e(e){return"string"==typeof e}function xe(e,t,n){return Math.max(t,Math.min(e,n))}function re(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e}_.$=O,H.inArray=function(e,t,n){return T.indexOf.call(t,e,n)},H.extend=function(t){var n,e=M.call(arguments,1);return"boolean"==typeof t&&(n=t,t=e.shift()),t=t||{},e.forEach(function(e){!function e(t,n,s){for(var i in n)s&&(H.isPlainObject(n[i])||H.isArray(n[i]))?((H.isPlainObject(n[i])&&!H.isPlainObject(t[i])||H.isArray(n[i])&&!H.isArray(t[i]))&&(t[i]={}),e(t[i],n[i],s)):void 0!==n[i]&&(t[i]=n[i])}(t,e,n)}),t},H.isFunction=C,H.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},H.isPlainObject=function(e){return k(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},H.each=function(e,t){var n,s;if(k(e)&&t){if(H.isArray(e)||e instanceof O)for(n=0;n<e.length&&!1!==t.call(e[n],n,e[n]);n++);else for(s in e)if(e.hasOwnProperty(s)&&"length"!==s&&!1===t.call(e[s],s,e[s]))break;return this}},H.unique=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},H.map=function(e,t){var n,s,i,a=[];if(D(e))for(s=0;s<e.length;s++)null!==(n=t(e[s],s))&&a.push(n);else for(i in e)null!==(n=t(e[i],i))&&a.push(n);return 0<a.length?H.fn.concat.apply([],a):a};var Y,W=0;function ie(){W++,setTimeout(function(){W--},500)}function Te(e,t,n){var s=e.originalEvent||e,i=(n?"page":"client")+t;return s.targetTouches&&s.targetTouches[0]?s.targetTouches[0][i]:s.changedTouches&&s.changedTouches[0]?s.changedTouches[0][i]:e[i]}function P(n,e,t,s,i,a){var r,o,l,c,u,d=(0,_.$)(e);function h(e){l||(l=this,r=Te(e,"X"),o=Te(e,"Y"),c=!1,u=new Date)}function f(e){l&&!c&&(Math.abs(Te(e,"X")-r)>i||Math.abs(Te(e,"Y")-o)>i)&&(c=!0)}function m(e){l&&(a&&new Date-u<100||!c?function(e,t){if(!t.mbscClick){var n=(e.originalEvent||e).changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),s.isMbscTap=!0,s.isIonicTap=!0,Y=!0,t.mbscChange=!0,t.mbscClick=!0,t.dispatchEvent(s),Y=!1,ie(),setTimeout(function(){delete t.mbscClick})}}(e,e.target):ie(),l=!1)}function p(e){s&&e.preventDefault(),t.call(this,e,n)}function v(){l=!1}i=i||9,d.each(function(e,t){n.settings.tap&&(ge(t,"touchstart",h,{passive:!0}),ge(t,"touchcancel",v),ge(t,"touchmove",f,{passive:!0}),ge(t,"touchend",m)),ge(t,"click",p),t.__mbscOff=function(){ye(t,"touchstart",h,{passive:!0}),ye(t,"touchcancel",v),ye(t,"touchmove",f,{passive:!0}),ye(t,"touchend",m),ye(t,"click",p),delete t.__mbscOff}})}function oe(e){e&&e[0]&&e[0].__mbscOff&&e[0].__mbscOff()}function I(e){if(W&&!Y&&!e.isMbscTap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}u&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,I,!0)}),"android"==e&&n<5&&document.addEventListener("change",function(e){W&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0)),_.uid="88b5107e";var $,Me=_.$,F=+new Date,z={},X={},R={},U={xsmall:0,small:576,medium:768,large:992,xlarge:1200},le=Me.extend;le(l,{getCoord:Te,preventClick:ie,vibrate:function(e){"vibrate"in navigator&&navigator.vibrate(e||50)}}),$=le(_,{$:Me,version:"4.10.8",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:e,majorVersion:n,minorVersion:s},i18n:{},instances:z,classes:X,util:l,settings:{},setDefaults:function(e){le(this.settings,e)},customTheme:function(e,t){var n,s=_.themes,i=["frame","scroller","listview","navigation","form","page","progress","card"];for(n=0;n<i.length;n++)s[i[n]][e]=le({},s[i[n]][t],{baseTheme:t})}});function Ce(o,l){var c,u,d,h,f,m,p,v,b,g=this;function y(e){var n,t,s=R;return f.responsive&&(n=e||((t=c)[0].innerWidth||t.innerWidth()),Me.each(f.responsive,function(e,t){n>=(t.breakpoint||U[e])&&(s=t)})),s}g.settings={},g.element=o,g._init=se,g._destroy=se,g._processSettings=se,g._checkResp=function(e){if(g&&g._responsive){var t=y(e);if(h!==t)return h=t,g.init({}),!0}},g._getRespCont=function(){return Me("body"==f.context?window:f.context)},g.init=function(e,t){var n,s,i,a,r;for(n in e&&g.getVal&&(s=g.getVal()),g.settings)delete g.settings[n];f=g.settings,le(l,e),g._hasDef&&(b=$.settings),le(f,g._defaults,b,l),c=g._getRespCont(),g._responsive&&(h=h||y(),le(f,h)),g._hasTheme&&(a=(i=f).theme,r=i.themeVariant,"auto"!=a&&a||(a=$.autoTheme),"default"==a&&(a="mobiscroll"),("dark"===r||w&&"auto"===r)&&$.themes.form[a+"-dark"]?a+="-dark":"light"===r&&/.+-dark$/.test(a)&&(a=a.replace(/-dark$/,"")),p=a,l.theme=p,m=$.themes[g._class]?$.themes[g._class][p]:{}),g._hasLang&&(u=$.i18n[f.lang]),le(f,m,u,b,l,h),g._processSettings(h||{}),g._presets&&(d=g._presets[f.preset])&&(d=d.call(o,g,l),le(f,d,l,h)),g._init(e),e&&g.setVal&&g.setVal(void 0===t?s:t,!0),v("onInit")},g.destroy=function(){g&&(g._destroy(),v("onDestroy"),delete z[o.id],g=null)},g.tap=function(e,t,n,s,i){P(g,e,t,n,s,i)},g.trigger=function(e,t){var n,s,i,a=[b,m,d,l];for(s=0;s<4;s++)(i=a[s])&&i[e]&&(n=i[e].call(o,t||{},g));return n},g.option=function(e,t,n){var s={},i=["data","invalid","valid","readonly"];/calendar|eventcalendar|range/.test(f.preset)&&i.push("marked","labels","colors"),"object"==typeof e?s=e:s[e]=t,i.forEach(function(e){l[e]=f[e]}),g.init(s,n)},g.getInst=function(){return g},l=l||{},v=g.trigger,g.__ready||(Me(o).addClass("mbsc-comp"),o.id?z[o.id]&&z[o.id].destroy():o.id="mobiscroll"+ ++F,(z[o.id]=g).__ready=!0)}function ce(e,t,n,s,i,a,r){var o=new Date(e,t,n,s||0,i||0,a||0,r||0);return 23==o.getHours()&&0===(s||0)&&o.setHours(o.getHours()+2),o}function ue(n,e,t){if(!e)return null;function i(e){for(var t=0;r+1<n.length&&n.charAt(r+1)==e;)t++,r++;return t}function s(e,t,n){var s=""+t;if(i(e))for(;s.length<n;)s="0"+s;return s}function a(e,t,n,s){return i(e)?s[t]:n[t]}var r,o,l=le({},Ae,t),c="",u=!1;for(r=0;r<n.length;r++)if(u)"'"!=n.charAt(r)||i("'")?c+=n.charAt(r):u=!1;else switch(n.charAt(r)){case"d":c+=s("d",l.getDay(e),2);break;case"D":c+=a("D",e.getDay(),l.dayNamesShort,l.dayNames);break;case"o":c+=s("o",(e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=s("m",l.getMonth(e)+1,2);break;case"M":c+=a("M",l.getMonth(e),l.monthNamesShort,l.monthNames);break;case"y":o=l.getYear(e),c+=i("y")?o:(o%100<10?"0":"")+o%100;break;case"h":var d=e.getHours();c+=s("h",12<d?d-12:0===d?12:d,2);break;case"H":c+=s("H",e.getHours(),2);break;case"i":c+=s("i",e.getMinutes(),2);break;case"s":c+=s("s",e.getSeconds(),2);break;case"a":c+=11<e.getHours()?l.pmText:l.amText;break;case"A":c+=11<e.getHours()?l.pmText.toUpperCase():l.amText.toUpperCase();break;case"'":i("'")?c+="'":u=!0;break;default:c+=n.charAt(r)}return c}function de(n,a,e){var t=le({},Ae,e),s=De(t.defaultValue||new Date);if(!n||!a)return s;if(a.getTime)return a;a="object"==typeof a?a.toString():a+"";function r(e){var t=c+1<n.length&&n.charAt(c+1)==e;return t&&c++,t}function i(e){r(e);var t=new RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2)+"}"),n=a.substr(w).match(t);return n?(w+=n[0].length,parseInt(n[0],10)):0}function o(e,t,n){var s,i=r(e)?n:t;for(s=0;s<i.length;s++)if(a.substr(w,i[s].length).toLowerCase()==i[s].toLowerCase())return w+=i[s].length,s+1;return 0}function l(){w++}var c,u=t.shortYearCutoff,d=t.getYear(s),h=t.getMonth(s)+1,f=t.getDay(s),m=-1,p=s.getHours(),v=s.getMinutes(),b=0,g=-1,y=!1,w=0;for(c=0;c<n.length;c++)if(y)"'"!=n.charAt(c)||r("'")?l():y=!1;else switch(n.charAt(c)){case"d":f=i("d");break;case"D":o("D",t.dayNamesShort,t.dayNames);break;case"o":m=i("o");break;case"m":h=i("m");break;case"M":h=o("M",t.monthNamesShort,t.monthNames);break;case"y":d=i("y");break;case"H":p=i("H");break;case"h":p=i("h");break;case"i":v=i("i");break;case"s":b=i("s");break;case"a":g=o("a",[t.amText,t.pmText],[t.amText,t.pmText])-1;break;case"A":g=o("A",[t.amText,t.pmText],[t.amText,t.pmText])-1;break;case"'":r("'")?l():y=!0;break;default:l()}if(d<100&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=("string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10))?0:-100)),-1<m){h=1,f=m;do{var _=32-new Date(d,h-1,32,12).getDate();_<f&&(h++,f-=_)}while(_<f)}p=-1==g?p:g&&p<12?p+12:g||12!=p?p:0;var x=t.getDate(d,h-1,f,p,v,b);return t.getYear(x)!=d||t.getMonth(x)+1!=h||t.getDay(x)!=f?s:x}function B(e,t,n){var s,i,a={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(n)for(s in a)(i=e[a[s]-t])&&(n[s]="tz"==s?i:1)}function ke(e,t,n){var s,i,a,r,o=window.moment||t.moment,l=t.returnFormat;if(e){if("moment"==l&&o)return o(e);if("locale"==l)return ue(n,e,t);if("iso8601"==l)return s=e,i=t.isoParts,r=a="",s&&(i.h&&(r+=re(s.getHours())+":"+re(s.getMinutes()),i.s&&(r+=":"+re(s.getSeconds())),i.u&&(r+="."+re(s.getMilliseconds(),3)),i.tz&&(r+=i.tz)),i.y?(a+=s.getFullYear(),i.m&&(a+="-"+re(s.getMonth()+1),i.d&&(a+="-"+re(s.getDate())),i.h&&(a+="T"+r))):i.h&&(a=r)),a}return e}function De(e,t,n,s){var i;return e?e.getTime?e:e.toDate?e.toDate():("string"==typeof e&&(e=e.trim()),(i=Se.exec(e))?(B(i,2,s),new Date(1970,0,1,i[2]?+i[2]:0,i[3]?+i[3]:0,i[4]?+i[4]:0,i[5]?+i[5]:0)):(i=i||j.exec(e))?(B(i,0,s),new Date(i[1]?+i[1]:1970,i[2]?i[2]-1:0,i[3]?+i[3]:1,i[4]?+i[4]:0,i[5]?+i[5]:0,i[6]?+i[6]:0,i[7]?+i[7]:0)):de(t,e,n)):null}var j=/^(\d{4}|[+-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+-])(\d{2})(?::(\d{2}))?)?)?$/,Se=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+-])(\d{2})(?::(\d{2}))?)?)?$/,Ve=/^\d{1,2}(\/\d{1,2})?$/,Ee=/^w\d$/i,Ae={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:ce,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){(e=new Date(e)).setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}};l.datetime={formatDate:ue,parseDate:de};var Oe,q="position:absolute;left:0;top:0;",Z=q+"right:0;bottom:0;overflow:hidden;z-index:-1;",Le='<div style="'+Z+'"><div style="'+q+'"></div></div><div style="'+Z+'"><div style="'+q+'width:200%;height:200%;"></div></div>',He=0;function Ne(e){e.preventDefault()}function G(n,s,e){var C,u,d,k,M,D,S,V,E,A,i,O,L,H,N,Y,h,W,P,I,$,f,F,z,X,t,m,R,U,B,j,q,Z,G=this,J=Me(n),a=[],r=new Date;function K(e){R.stopProp&&e.stopPropagation();var t=function(e,t,n){for(;t;){if(x(t,n))return t;t=t!==e?t.parentNode:null}return null}(this,e.target,".mbsc-fr-btn-e");t&&(i&&i.removeClass("mbsc-active"),(i=Me(t)).hasClass("mbsc-disabled")||i.hasClass("mbsc-fr-btn-nhl")||i.addClass("mbsc-active"),"mousedown"===e.type&&Me(document).on("mouseup",Q))}function Q(e){i&&(i.removeClass("mbsc-active"),i=null),"mouseup"===e.type&&Me(document).off("mouseup",Q)}function p(e){U&&W.contains(e.target)&&e.preventDefault()}function v(e){_.activeInstance==G&&(13!=e.keyCode||Me(e.target).is('textarea,button,input[type="button"],input[type="submit"]')&&!e.shiftKey?27==e.keyCode&&G.cancel():G.select())}function ee(e){e||Ie||!G._activeElm||(r=new Date,G._activeElm.focus())}function o(e){var t=Ye,n=R.focusOnClose;G._markupRemove(),k.remove(),N&&(O.mbscModals--,R.scrollLock&&O.mbscLock--,O.mbscLock||d.removeClass("mbsc-fr-lock"),f&&(O.mbscIOSLock--,O.mbscIOSLock||(d.removeClass("mbsc-fr-lock-ios"),C.css({top:"",left:""}),V.scrollLeft(O.mbscScrollLeft),V.scrollTop(O.mbscScrollTop))),O.mbscModals||d.removeClass("mbsc-fr-lock-ctx"),O.mbscModals&&!m||e||(t=t||J,setTimeout(function(){void 0===n||!0===n?(We=!0,t[0].focus()):n&&Me(n)[0].focus()},200))),m=void 0,Y=!1,j("onHide")}function te(){clearTimeout(t),t=setTimeout(function(){G.position(!0)&&(X.style.visibility="hidden",X.offsetHeight,X.style.visibility="")},200)}function b(e){_.activeInstance==G&&e.target.nodeType&&!z.contains(e.target)&&100<new Date-r&&(r=new Date,G._activeElm.focus())}function g(e,t){function n(e){r||e.target!=z||(a=!(r=!0),o=Te(e,"X"),l=Te(e,"Y"))}function s(e){r&&!a&&(9<Math.abs(Te(e,"X")-o)||9<Math.abs(Te(e,"Y")-l))&&(a=!0)}if(G._isVisible){if(N)k.appendTo(C);else if(J.is("div")&&!G._hasContent)J.empty().append(k);else if(J.hasClass("mbsc-control")){var i=J.closest(".mbsc-control-w");k.insertAfter(i),i.hasClass("mbsc-select")&&i.addClass("mbsc-select-inline")}else k.insertAfter(J);var a,r,o,l,c,u,d,h,f,m,p,v,b,g,y;if(Y=!0,G._markupInserted(k),j("onMarkupInserted",{target:W}),N&&R.closeOnOverlayTap)ge(z,"touchstart",n,{passive:!0}),ge(z,"touchmove",s,{passive:!0}),M.on("mousedown",n).on("mousemove",s).on("touchcancel",function(){r=!1}).on("touchend click",function(e){r&&!a&&(G.cancel(),"touchend"==e.type&&ie()),r=!1});if(k.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",Ne).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32!=e.keyCode||Me(e.target).is(Fe)){if(9==e.keyCode&&N&&R.focusTrap){var t=k.find('input,select,textarea,button,[tabindex="0"]').filter(function(){return 0<this.offsetWidth||0<this.offsetHeight}),n=t.index(Me(":focus",k)),s=t.length-1,i=0;e.shiftKey&&(s=0,i=-1),n===s&&(t.eq(i)[0].focus(),e.preventDefault())}}else e.preventDefault()}).on("touchend",".mbsc-fr-btn-e",Q),ge(W,"touchstart",K,{passive:!0}),ge(W,"mousedown",K),ge(W,"touchstart",function(){B||(B=!0,C.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},{passive:!0,capture:!0}),Me.each(A,function(e,t){G.tap(Me(".mbsc-fr-btn"+e,k),function(e){t=_e(t)?G.buttons[t]:t,(_e(t.handler)?G.handlers[t.handler]:t.handler).call(this,e,G)},!0)}),G._attachEvents(k),!1!==G.position())(N||G._checkSize)&&(c=W,u=te,d=R.zone,y=0,window.ResizeObserver?(Oe=Oe||new ResizeObserver(function(e){var t=e,n=Array.isArray(t),s=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(s>=t.length)break;i=t[s++]}else{if((s=t.next()).done)break;i=s.value}i.target.__mbscResize()}}),He++,c.__mbscResize=u,Oe.observe(c)):((m=document.createElement("div")).innerHTML=Le,m.dir="ltr",b=m.childNodes[1],h=m.childNodes[0],f=h.childNodes[0],c.appendChild(m),h.addEventListener("scroll",x),b.addEventListener("scroll",x),d?d.runOutsideAngular(function(){me(_)}):me(_)),F={detach:function(){Oe?(He--,Oe.unobserve(c),He||(Oe=null)):(c.removeChild(m),g=!0)}}),N&&(k.removeClass("mbsc-fr-pos"),L&&!e?k.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+L).on(ne,function e(){k.off(ne,e).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+L).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+L),ee(t)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+L):ee(t)),j("onShow",{target:W,valueText:G._tempValue})}function w(){f.style.width="100000px",f.style.height="100000px",h.scrollLeft=1e5,h.scrollTop=1e5,b.scrollLeft=1e5,b.scrollTop=1e5}function _(){var e=new Date;p=0,g||(200<e-y&&!h.scrollTop&&!h.scrollLeft&&(y=e,w()),p=p||me(_))}function x(){v=v||me(T)}function T(){v=0,w(),u()}}function l(e,t){G._isVisible||(e&&e(),!1!==G.show()&&(Ye=t))}function c(){G._fillValue(),j("onSet",{valueText:G._value})}function y(){j("onCancel",{valueText:G._value})}function w(){G.setVal(null,!0)}Ce.call(this,n,s,!0),G.position=function(e){var t,n,s,i,a,r,o,l,c,u,d,h,f,m,p,v,b,g,y,w={},_=0,x=0,T=0,M=0;if(!Y)return!1;if(v=q,p=Z,f=Math.min(W.offsetHeight,H?1/0:window.innerHeight),(m=Math.min(W.offsetWidth,H?1/0:window.innerWidth))&&f&&(q!==m||Z!==f||!e)){if(G._checkResp(m))return!1;if(q=m,Z=f,G._isFullScreen||/top|bottom/.test(R.display)?S.width(m):N&&E.width(""),G._position(k),!G._isFullScreen&&/center|bubble/.test(R.display)&&(Me(".mbsc-w-p",k).each(function(){b=this.getBoundingClientRect().width,M+=b,T=T<b?b:T}),h=m-16<M||!0===R.tabs,E.css({width:G._isLiquid?Math.min(R.maxPopupWidth,m-16):Math.ceil(h?T:M),"white-space":h?"":"nowrap"})),!1!==j("onPosition",{target:W,popup:X,hasTabs:h,oldWidth:v,oldHeight:p,windowWidth:m,windowHeight:f})&&N)return $&&(_=V.scrollLeft(),x=V.scrollTop(),q&&D.css({width:"",height:""})),P=X.offsetWidth,I=X.offsetHeight,U=I<=f&&P<=m,"center"==R.display?(y=Math.max(0,_+(m-P)/2),g=Math.max(0,x+(f-I)/2)):"bubble"==R.display?(t=void 0===R.anchor?J:Me(R.anchor),o=Me(".mbsc-fr-arr-i",k)[0],a=(i=t.offset()).top+(H?x-C.offset().top:0),r=i.left+(H?_-C.offset().left:0),n=t[0].offsetWidth,s=t[0].offsetHeight,l=o.offsetWidth,c=o.offsetHeight,y=xe(r-(P-n)/2,_+3,_+m-P-3),x+f<(g=a+s+c/2)+I+8&&x<a-I-c/2?(S.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),g=a-I-c/2):S.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),Me(".mbsc-fr-arr",k).css({left:xe(r+n/2-(y+(P-l)/2),0,l)}),U=x<g&&_<y&&g+I<=x+f&&y+P<=_+m):(y=_,g="top"==R.display?x:Math.max(0,x+f-I)),$&&(u=Math.max(g+I,H?O.scrollHeight:Me(document).height()),d=Math.max(y+P,H?O.scrollWidth:Me(document).width()),D.css({width:d,height:u}),R.scroll&&"bubble"==R.display&&(x+f<g+I+8||x+f<a||a+s<x)&&V.scrollTop(Math.min(a,g+I-f+8,u-f))),w.top=Math.floor(g),w.left=Math.floor(y),S.css(w),!0}},G.attachShow=function(e,t){var n,s=Me(e).off(".mbsc"),i=s.prop("readonly");oe(s),"inline"!==R.display&&((R.showOnFocus||R.showOnTap)&&s.is("input,select")&&(s.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){G._isVisible&&this.blur()}),(n=Me('label[for="'+s.attr("id")+'"]')).length||(n=s.closest("label"))),s.is("select")||(R.showOnFocus&&s.on("focus.mbsc",function(){We?We=!1:l(t,s)}),R.showOnTap&&(s.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),l(t,s))}),G.tap(s,function(e){e.isMbscTap&&(B=!0),l(t,s)}),n&&n.length&&G.tap(n,function(e){e.preventDefault(),e.target!==s[0]&&l(t,s)}))),a.push({readOnly:i,el:s,lbl:n}))},G.select=function(){N?G.hide(!1,"set",!1,c):c()},G.cancel=function(){N?G.hide(!1,"cancel",!1,y):y()},G.clear=function(){G._clearValue(),j("onClear"),N&&G._isVisible&&!G.live?G.hide(!1,"clear",!1,w):w()},G.enable=function(){R.disabled=!1,Me.each(a,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!1)})},G.disable=function(){R.disabled=!0,Me.each(a,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!0)})},G.show=function(e,t){var n,s,i,a;if(!R.disabled&&!G._isVisible){if(G._readValue(),!1===j("onBeforeShow"))return!1;if(Ye=null,L=R.animate,A=R.buttons||[],$=H||"bubble"==R.display,f=Pe&&!$&&R.scrollLock,n=0<A.length,!1!==L&&("top"==R.display?L=L||"slidedown":"bottom"==R.display?L=L||"slideup":"center"!=R.display&&"bubble"!=R.display||(L=L||"pop")),N&&(Z=q=0,f&&!d.hasClass("mbsc-fr-lock-ios")&&(O.mbscScrollTop=a=Math.max(0,V.scrollTop()),O.mbscScrollLeft=i=Math.max(0,V.scrollLeft()),C.css({top:-a+"px",left:-i+"px"})),d.addClass((R.scrollLock?"mbsc-fr-lock":"")+(f?" mbsc-fr-lock-ios":"")+(H?" mbsc-fr-lock-ctx":"")),Me(document.activeElement).is("input,textarea")&&document.activeElement.blur(),m=_.activeInstance,_.activeInstance=G,O.mbscModals=(O.mbscModals||0)+1,f&&(O.mbscIOSLock=(O.mbscIOSLock||0)+1),R.scrollLock&&(O.mbscLock=(O.mbscLock||0)+1)),s='<div lang="'+R.lang+'" class="mbsc-fr mbsc-'+R.theme+(R.baseTheme?" mbsc-"+R.baseTheme:"")+" mbsc-fr-"+R.display+" "+(R.cssClass||"")+" "+(R.compClass||"")+(G._isLiquid?" mbsc-fr-liq":"")+(N?" mbsc-fr-pos"+(R.showOverlay?"":" mbsc-fr-no-overlay"):"")+(h?" mbsc-fr-pointer":"")+($e?" mbsc-fr-hb":"")+(B?"":" mbsc-no-touch")+(f?" mbsc-platform-ios":"")+(n?3<=A.length?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(N?'<div class="mbsc-fr-persp">'+(R.showOverlay?'<div class="mbsc-fr-overlay"></div>':"")+'<div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(R.rtl?" mbsc-rtl":" mbsc-ltr")+(R.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===R.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+(N?'<div class="mbsc-fr-focus" tabindex="-1"></div>':"")+'<div class="mbsc-fr-w">'+(R.headerText?'<div class="mbsc-fr-hdr">'+(_e(R.headerText)?R.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',s+=G._generateContent(),s+="</div>",n){var r,o,l,c=A.length;for(s+='<div class="mbsc-fr-btn-cont">',o=0;o<A.length;o++)l=R.btnReverse?c-o-1:o,"set"===(r=_e(r=A[l])?G.buttons[r]:r).handler&&(r.parentClass="mbsc-fr-btn-s"),"cancel"===r.handler&&(r.parentClass="mbsc-fr-btn-c"),s+="<div"+(R.btnWidth?' style="width:'+100/A.length+'%"':"")+' class="mbsc-fr-btn-w '+(r.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+l+" mbsc-fr-btn-e "+(void 0===r.cssClass?R.btnClass:r.cssClass)+(r.icon?" mbsc-ic mbsc-ic-"+r.icon:"")+'">'+(r.text||"")+"</div></div>";s+="</div>"}k=Me(s+="</div></div></div></div>"+(N?"</div></div>":"")),D=Me(".mbsc-fr-persp",k),M=Me(".mbsc-fr-scroll",k),E=Me(".mbsc-fr-w",k),S=Me(".mbsc-fr-popup",k),u=Me(".mbsc-fr-hdr",k),W=k[0],z=M[0],X=S[0],G._activeElm=Me(".mbsc-fr-focus",k)[0],G._markup=k,G._isVisible=!0,G.markup=W,G._markupReady(k),j("onMarkupReady",{target:W}),N&&(Me(window).on("keydown",v),R.scrollLock&&(ge(document,"touchmove",p,{passive:!1}),ge(document,"mousewheel",p,{passive:!1}),ge(document,"wheel",p,{passive:!1})),R.focusTrap&&V.on("focusin",b)),N?setTimeout(function(){g(e,t)},f?100:0):g(e,t)}},G.hide=function(t,e,n,s){if(!G._isVisible||!n&&!G._isValid&&"set"==e||!n&&!1===j("onBeforeClose",{valueText:G._tempValue,button:e}))return!1;G._isVisible=!1,F&&(F.detach(),F=null),N&&(Me(document.activeElement).is("input,textarea")&&X.contains(document.activeElement)&&document.activeElement.blur(),_.activeInstance==G&&(_.activeInstance=m),Me(window).off("keydown",v),V.off("focusin",b),ye(document,"touchmove",p,{passive:!1}),ye(document,"mousewheel",p,{passive:!1}),ye(document,"wheel",p,{passive:!1})),k&&(N&&Y&&L&&!t?k.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+L).on(ne,function e(){k.off(ne,e),o(t)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+L):o(t),G._detachEvents(k)),s&&s(),J.trigger("blur"),j("onClose",{valueText:G._value})},G.isVisible=function(){return G._isVisible},G.setVal=se,G.getVal=se,G._generateContent=se,G._attachEvents=se,G._detachEvents=se,G._readValue=se,G._clearValue=se,G._fillValue=se,G._markupReady=se,G._markupInserted=se,G._markupRemove=se,G._position=se,G.__processSettings=se,G.__init=se,G.__destroy=se,G._destroy=function(){G.hide(!0,!1,!0),J.off(".mbsc"),oe(J),Me.each(a,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),oe(t.el),t.lbl&&(t.lbl.off(".mbsc"),oe(t.lbl))}),G.__destroy()},G._updateHeader=function(){var e=R.headerText,t=e?"function"==typeof e?e.call(n,G._tempValue):e.replace(/\{value\}/i,G._tempValue):"";u.html(t||"&nbsp;")},G._getRespCont=function(){return H="body"!=R.context,V=Me(H?R.context:window),"inline"==R.display?J.is("div")?J:J.parent():V},G._processSettings=function(e){var t,n;for(G.__processSettings(e),(h=!R.touchUi)&&(R.display=e.display||s.display||"bubble",R.buttons=e.buttons||s.buttons||[],R.showOverlay=e.showOverlay||s.showOverlay||!1),R.buttons=R.buttons||("inline"!==R.display?["cancel","set"]:[]),R.headerText=void 0===R.headerText?"inline"!==R.display&&"{value}":R.headerText,A=R.buttons||[],N="inline"!==R.display,C=Me(R.context),d=H?C:Me("body,html"),O=C[0],G.live=!0,n=0;n<A.length;n++)"ok"!=(t=A[n])&&"set"!=t&&"set"!=t.handler||(G.live=!1);G.buttons.set={text:R.setText,icon:R.setIcon,handler:"set"},G.buttons.cancel={text:R.cancelText,icon:R.cancelIcon,handler:"cancel"},G.buttons.close={text:R.closeText,icon:R.closeIcon,handler:"cancel"},G.buttons.clear={text:R.clearText,icon:R.clearIcon,handler:"clear"},G._isInput=J.is("input")},G._init=function(e){var t=G._isVisible,n=t&&!k.hasClass("mbsc-fr-pos");t&&G.hide(!0,!1,!0),J.off(".mbsc"),oe(J),G.__init(e),G._isLiquid="liquid"==R.layout,N?(G._readValue(),G._hasContent||R.skipShow||G.attachShow(J),t&&G.show(n)):G.show(),J.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",function(){G._preventChange||G.setVal(J.val(),!0,!1),G._preventChange=!1})},G.buttons={},G.handlers={set:G.select,cancel:G.cancel,clear:G.clear},G._value=null,G._isValid=!0,G._isVisible=!1,R=G.settings,j=G.trigger,e||G.init()}var Ye,We,J=_.themes,Pe=/(iphone|ipod)/i.test(d)&&7<=n,Ie="android"==e,K="ios"==e,$e=K&&7<n,Fe="input,select,textarea,button";G.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:Ie||K,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,showOverlay:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!(K&&8==n)},X.Frame=G,J.frame.mobiscroll={headerText:!1,btnWidth:!1},J.scroller.mobiscroll=le({},J.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),u&&Me(window).on("focus",function(){Ye&&(We=!0)});function Q(i,e,t){var s,n,a,r,c,o,l,u,d,h,f,m,p,v,b,g,y,w,_,x,T,M,C,k,D,S,V,E,A,O,L,H,N,Y,W,P,I,$,F,z,X,R,U,B,j,q=this,Z=0,G=1,J=e,K=Me(i);function Q(e){U("onStart",{domEvent:e}),J.stopProp&&e.stopPropagation(),J.prevDef&&"mousedown"==e.type&&e.preventDefault(),J.readonly||J.lock&&T||ve(e,this)&&!x&&(s&&s.removeClass("mbsc-active"),b=!1,T||(s=Me(e.target).closest(".mbsc-btn-e",this)).length&&!s.hasClass("mbsc-disabled")&&(b=!0,r=setTimeout(function(){s.addClass("mbsc-active")},100)),M=A=!(x=!0),q.scrolled=T,I=Te(e,"X"),$=Te(e,"Y"),m=I,u=l=o=0,P=new Date,W=+be(z,B)||0,T&&de(W,ze?0:1),"mousedown"===e.type&&Me(document).on("mousemove",ee).on("mouseup",ne))}function ee(e){x&&(J.stopProp&&e.stopPropagation(),m=Te(e,"X"),p=Te(e,"Y"),o=m-I,l=p-$,u=B?l:o,b&&(Math.abs(l)>J.thresholdY||Math.abs(o)>J.thresholdX)&&(clearTimeout(r),s.removeClass("mbsc-active"),b=!1),(q.scrolled||!M&&Math.abs(u)>R)&&(A||U("onGestureStart",v),q.scrolled=A=!0,k||(k=!0,C=me(te))),B||J.scrollLock?e.preventDefault():q.scrolled?e.preventDefault():7<Math.abs(l)&&(M=!0,q.scrolled=!0,ne()))}function te(){w&&(u=xe(u,-N*w,N*w)),de(xe(W+u,_-f,y+f)),k=!1}function ne(e){if(x){var t,n=new Date-P;J.stopProp&&e&&e.stopPropagation(),pe(C),k=!1,!M&&q.scrolled&&(J.momentum&&n<300&&(t=u/n,u=Math.max(Math.abs(u),t*t/J.speedUnit)*(u<0?-1:1)),ue(u)),b&&(clearTimeout(r),s.addClass("mbsc-active"),setTimeout(function(){s.removeClass("mbsc-active")},100),M||q.scrolled||U("onBtnTap",{target:s[0],domEvent:e})),e&&"mouseup"==e.type&&Me(document).off("mousemove",ee).off("mouseup",ne),x=!1}}function se(e){q.scrolled&&(q.scrolled=!1,e.stopPropagation(),e.preventDefault())}function ie(e){if(i.contains(e.target)&&(e=e.originalEvent||e,u=B?null==e.deltaY?e.wheelDelta||e.detail:e.deltaY:e.deltaX,U("onStart",{domEvent:e}),J.stopProp&&e.stopPropagation(),u)){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(u*=15),u=xe(-u,-L,L),W=j,J.readonly)return;if(A||ce(),W+u<_&&(W=_,u=0),y<W+u&&(W=y,u=0),k||(k=!0,C=me(te)),!u&&A)return;A=!0,clearTimeout(O),O=setTimeout(function(){pe(C),A=k=!1,ue(u)},200)}}function ae(e){U("onStart",{domEvent:e}),J.readonly||(e.stopPropagation(),W=j,A=!1,e.target==D?($=Te(e,"Y",!0),Me(document).on("mousemove",re).on("mouseup",oe)):($=n.offset().top,re(e),oe()))}function re(e){var t=(Te(e,"Y",!0)-$)/c;u=g?xe(u=-(w*N*2+c)*t,-N*w,N*w):(_-y-c)*t,A||ce(),A=!0,de(xe(W+u,_-f,y+f))}function oe(){W=j,ue(0),Me(document).off("mousemove",re).off("mouseup",oe)}function le(e){e.stopPropagation()}function ce(){U("onGestureStart",v={posX:B?0:j,posY:B?j:0,originX:B?0:W,originY:B?W:0,direction:0<u?B?270:360:B?90:180})}function ue(e){var t,n,s;if(w&&(e=xe(e,-N*w,N*w)),s=xe(Math.round((W+e)/N)*N,_,y),Y){if(e<0){for(t=Y.length-1;0<=t;t--)if(Math.abs(s)+c>=Y[t].breakpoint){G=2,s=Y[Z=t].snap2;break}}else if(0<=e)for(t=0;t<Y.length;t++)if(Math.abs(s)<=Y[t].breakpoint){G=1,s=Y[Z=t].snap1;break}s=xe(s,_,y)}n=J.time||(j<_||y<j?1e3:Math.max(1e3,Math.abs(s-j)*J.timeUnit)),v.destinationX=B?0:s,v.destinationY=B?s:0,v.duration=n,v.transitionTiming=h,U("onGestureEnd",v),q.scroll(s,n)}function de(t,e,n,s){function i(){clearInterval(H),clearTimeout(X),T=!1,j=t,v.posX=B?0:t,v.posY=B?t:0,r&&U("onMove",v),o&&U("onAnimationEnd",v),s&&s()}var a,r=t!=j,o=1<e,l=e?he+"transform "+Math.round(e)+"ms "+h:"";v={posX:B?0:j,posY:B?j:0,originX:B?0:W,originY:B?W:0,direction:0<t-j?B?270:360:B?90:180},j=t,o&&(v.destinationX=B?0:t,v.destinationY=B?t:0,v.duration=e,v.transitionTiming=h,U("onAnimationStart",v)),F[fe+"Transition"]=l,F[fe+"Transform"]="translate3d("+(B?"0,"+t+"px,":t+"px,0,")+"0)",D&&S&&(a=g?(V-t)/(w*N*2):(t-y)/(_-y),D.style[fe+"Transition"]=l,D.style[fe+"Transform"]="translate3d(0,"+Math.max(0,Math.min((c-S)*a,c-S))+"px,0)"),!r&&!T||!e||e<=1?i():e&&(T=!n,clearInterval(H),H=setInterval(function(){var e=+be(z,B)||0;v.posX=B?0:e,v.posY=B?e:0,U("onMove",v),Math.abs(e-t)<2&&i()},100),clearTimeout(X),X=setTimeout(function(){i()},e)),J.sync&&J.sync(t,e,h)}Ce.call(this,i,e,!0),q.scrolled=!1,q.scroll=function(e,t,n,s){e=xe(e=we(e)?Math.round(e/N)*N:Math.ceil((Me(e,i).length?Math.round(z.offset()[d]-Me(e,i).offset()[d]):j)/N)*N,_,y),Z=Math.round(e/N),W=j,V=w*N+e,de(e,t,n,s)},q.refresh=function(e){var t;for(c=(void 0===J.contSize?B?K.height():K.width():J.contSize)||0,y=(void 0===J.maxScroll?0:J.maxScroll)||0,_=Math.min(y,void 0===J.minScroll?Math.min(0,B?c-z.height():c-z.width()):J.minScroll)||0,Y=null,!B&&J.rtl&&(t=y,y=-_,_=-t),_e(J.snap)&&(Y=[],z.find(J.snap).each(function(){var e=B?this.offsetTop:this.offsetLeft,t=B?this.offsetHeight:this.offsetWidth;Y.push({breakpoint:e+t/2,snap1:-e,snap2:c-e-t})})),N=we(J.snap)?J.snap:1,w=J.snap?J.maxSnapScroll:0,h=J.easing,f=J.elastic?we(J.snap)?N:we(J.elastic)?J.elastic:0:0,L=N;44<L;)L/=2;L=Math.round(44/L)*L,D&&(g=_==-1/0||y==1/0,S=_<y?Math.max(20,c*c/(y-_+c)):0,D.style.height=S+"px",E.style.height=S?"":0),void 0===j&&(j=J.initialPos,Z=Math.round(j/N)),e||q.scroll(J.snap?Y&&Y[Z]?Y[Z]["snap"+G]:Z*N:j)},q._processSettings=function(){B="Y"==J.axis,d=B?"top":"left",z=J.moveElement||K.children().eq(0),F=z[0].style,R=B?J.thresholdY:J.thresholdX,J.scrollbar&&(a=J.scrollbar,n=a.find(".mbsc-sc-bar"),D=n[0],E=a[0])},q._init=function(){q.refresh(),ge(i,"mousedown",Q),ge(i,"touchstart",Q,{passive:!0}),ge(i,"touchend",ne),ge(i,"touchcancel",ne),ge(i,"click",se,!0),ge(document,"touchmove",ee,{passive:!1}),J.mousewheel&&(ge(document,"wheel",ie,{passive:!1,capture:!0}),ge(document,"mousewheel",ie,{passive:!1,capture:!0})),D&&a.on("mousedown",ae).on("click",le)},q._destroy=function(){clearInterval(H),ye(i,"mousedown",Q),ye(i,"touchstart",Q,{passive:!0}),ye(i,"touchend",ne),ye(i,"touchcancel",ne),ye(i,"click",se,!0),ye(document,"touchmove",ee,{passive:!1}),ye(document,"wheel",ie,{passive:!1,capture:!0}),ye(document,"mousewheel",ie,{passive:!1,capture:!0}),D&&a.off("mousedown",ae).off("click",le)},J=q.settings,U=q.trigger,t||q.init()}var ze="ios"==e;Q.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};var ee={},te=u?window.CSS:null,Xe=te&&te.supports&&te.supports("(transform-style: preserve-3d)");function Re(e){return(e+"").replace(/"/g,"___")}function Ue(p,t,e){var n,h,g,v,y,c,x,w,_,u,d,b,T,M,C,k,r,D=40,S=1e3,V=this,o=Me(p);function E(e){var t,n,s=+Me(this).attr("data-index");38==e.keyCode?(t=!0,n=-1):40==e.keyCode?(t=!0,n=1):32==e.keyCode&&(t=!0,a(s,Me(e.target))),t&&(e.stopPropagation(),e.preventDefault(),n&&x.start(s,n,e))}function A(){x.stop()}function a(e,t){var n=k[e],s=+t.attr("data-index"),i=m(n,s),a=V._tempSelected[e],r=we(n.multiple)?n.multiple:1/0;!1===M("onItemTap",{target:t[0],index:e,value:i,selected:t.hasClass("mbsc-sc-itm-sel")})||V._prevItemTap||(n.multiple&&!n._disabled[i]&&(void 0!==a[i]?(t.removeClass(y).removeAttr("aria-selected"),delete a[i]):(1==r&&(V._tempSelected[e]=a={},n._$markup.find(".mbsc-sc-itm-sel").removeClass(y).removeAttr("aria-selected")),function(e){var t,n=[];for(t in e)n.push(e[t]);return n}(a).length<r&&(t.addClass(y).attr("aria-selected","true"),a[i]=i))),F(n,e,s,S,n._index<s?1:2,!0,n.multiple),V.live&&(!n.multiple||1===n.multiple&&T.tapSelect)&&(!0===T.setOnTap||T.setOnTap[e])&&setTimeout(function(){V.select()},T.tapSelect?0:200)),V._prevItemTap=!1}function l(e){return-(e.max-e._offset-(e.multiple&&!v?Math.floor(T.rows/2):0))*_}function f(e){return-(e.min-e._offset+(e.multiple&&!v?Math.floor(T.rows/2):0))*_}function O(e,t){return(e._array?e._map[t]:+e.getIndex(t,V))||0}function L(e,t){var n=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?Me(n).get(t%e._length):n[t]:Me.isFunction(n)?n(t,V):""}function H(e){return Me.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function m(e,t){return H(L(e,t))}function N(e,t,n){var s=k[e];F(s,e,s._index+t,T.delay+100,1==t?1:2,!1,!1,"keydown"==n.type)}function Y(e){return Me.isArray(T.readonly)?T.readonly[e]:T.readonly}function W(e,t,n){var s=le(k[t]||{},e),i=s._index-s._batch;return s.data=s.data||[],s.key=void 0!==s.key?s.key:t,s.label=void 0!==s.label?s.label:t,s._map={},s._array=Me.isArray(s.data),s._array&&(s._length=s.data.length,Me.each(s.data,function(e,t){s._map[H(t)]=e})),s.circular=void 0===T.circular?void 0===s.circular?s._array&&s._length>T.rows:s.circular:Me.isArray(T.circular)?T.circular[t]:T.circular,s.min=s._array?s.circular?-1/0:0:void 0===s.min?-1/0:s.min,s.max=s._array?s.circular?1/0:s._length-1:void 0===s.max?1/0:s.max,s._nr=t,s._index=O(s,w[t]),s._disabled={},s._batch=0,s._current=s._index,s._first=s._index-D,s._last=s._index+D,s._offset=s._first,n?(s._offset-=s._margin/_+(s._index-i),s._margin+=(s._index-i)*_):s._margin=0,s._refresh=function(e){le(s._scroller.settings,{minScroll:l(s),maxScroll:f(s)}),s._scroller.refresh(e)},r[s.key]=s}function P(e,t,n,s,i){var a,r,o,l,c,u,d,h,f,m,p="",v=V._tempSelected[t],b=e._disabled||{};for(a=n;a<=s;a++)o=L(e,a),f=o,c=void 0===(m=Me.isPlainObject(f)?f.display:f)?"":m,l=H(o),r=o&&void 0!==o.cssClass?o.cssClass:"",u=o&&void 0!==o.label?o.label:"",d=o&&o.invalid,h=void 0!==l&&l==w[t]&&!e.multiple,p+='<div role="option" tabindex="-1" aria-selected="'+!!v[l]+'" class="mbsc-sc-itm '+(i?"mbsc-sc-itm-3d ":"")+r+" "+(h?"mbsc-sc-itm-sel ":"")+(v[l]?y:"")+(void 0===l?" mbsc-sc-itm-ph":" mbsc-btn-e")+(d?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(b[l]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+a+'" data-val="'+Re(l)+'"'+(u?' aria-label="'+u+'"':"")+(h?' aria-selected="true"':"")+' style="height:'+_+"px;line-height:"+_+"px;"+(i?he+"transform:rotateX("+(e._offset-a)*g%360+"deg) translateZ("+_*T.rows/2+"px);":"")+'">'+(1<C?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(_/C)+"px;font-size:"+Math.round(_/C*.8)+'px;">':"")+c+(1<C?"</div>":"")+"</div>";return p}function I(e,t,n,s){var i,a=k[e],r=s||a._disabled,o=O(a,t),l=m(a,o),c=l,u=l,d=0,h=0;if(!0===r[l]){for(i=0;o-d>=a.min&&r[c]&&i<100;)i++,c=m(a,o-++d);for(i=0;o+h<a.max&&r[u]&&i<100;)i++,u=m(a,o+ ++h);l=(h<d&&h&&2!==n||!d||o-d<0||1==n)&&!r[u]?u:c}return l}function $(s,i,a,e,r,t,o){var l,c,u,d,n,h,f,m=V._isVisible;b=!0,d=T.validate.call(p,{values:w.slice(0),index:i,direction:a},V)||{},b=!1,d.valid&&(V._tempWheelArray=w=d.valid.slice(0)),t||Me.each(k,function(e,n){if(m&&n._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),n._disabled={},d.disabled&&d.disabled[e]&&Me.each(d.disabled[e],function(e,t){n._disabled[t]=!0,m&&n._$markup.find('.mbsc-sc-itm[data-val="'+Re(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")}),w[e]=n.multiple?w[e]:I(e,w[e],a),m){if(n.multiple&&void 0!==i||n._$markup.find(".mbsc-sc-itm-sel").removeClass(y).removeAttr("aria-selected"),c=O(n,w[e]),l=c-n._index+n._batch,Math.abs(l)>2*D+1&&(u=l+(2*D+1)*(0<l?-1:1),n._offset+=u,n._margin-=u*_,n._refresh()),n._index=c+n._batch,n.multiple){if(void 0===i)for(var t in V._tempSelected[e])n._$markup.find('.mbsc-sc-itm[data-val="'+Re(t)+'"]').addClass(y).attr("aria-selected","true")}else n._$markup.find('.mbsc-sc-itm[data-val="'+Re(w[e])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");n._$active&&n._$active.attr("tabindex",-1),n._$active=n._$markup.find('.mbsc-sc-itm[data-index="'+n._index+'"]').eq(v&&n.multiple?1:0).attr("tabindex",0),o&&i===e&&n._$active.length&&(n._$active[0].focus(),n._$scroller.parent().scrollTop(0)),n._scroller.scroll(-(c-n._offset+n._batch)*_,i===e||void 0===i?s:S,r)}}),M("onValidated",{index:i,time:s}),V._tempValue=T.formatValue.call(p,w,V),m&&V._updateHeader(),V.live&&(h=t,(f=k[n=i])&&(!f.multiple||1!==f.multiple&&h&&(!0===T.setOnTap||T.setOnTap[n])))&&(V._hasValue=e||V._hasValue,z(e,e,0,!0),e&&M("onSet",{valueText:V._value})),e&&M("onChange",{index:i,valueText:V._tempValue})}function F(e,t,n,s,i,a,r,o){var l=m(e,n);void 0!==l&&(w[t]=l,e._batch=e._array?Math.floor(n/e._length)*e._length:0,e._index=n,setTimeout(function(){$(s,t,i,!0,a,r,o)},10))}function z(e,t,n,s,i){if(s?V._tempValue=T.formatValue.call(p,V._tempWheelArray,V):$(n),!i){V._wheelArray=[];for(var a=0;a<w.length;a++)V._wheelArray[a]=k[a]&&k[a].multiple?Object.keys(V._tempSelected[a]||{})[0]:w[a];V._value=V._hasValue?V._tempValue:null,V._selected=le(!0,{},V._tempSelected)}e&&(V._isInput&&o.val(V._hasValue?V._tempValue:""),M("onFill",{valueText:V._hasValue?V._tempValue:"",change:t}),t&&(V._preventChange=!0,o.trigger("change")))}G.call(this,p,t,!0),V.setVal=V._setVal=function(e,t,n,s,i){V._hasValue=null!=e,V._tempWheelArray=w=Me.isArray(e)?e.slice(0):T.parseValue.call(p,e,V)||[],z(t,void 0===n?t:n,i,!1,s)},V.getVal=V._getVal=function(e){var t=V._hasValue||e?V[e?"_tempValue":"_value"]:null;return we(t)?+t:t},V.setArrayVal=V.setVal,V.getArrayVal=function(e){return e?V._tempWheelArray:V._wheelArray},V.changeWheel=function(e,t,n){var s,i,a;Me.each(e,function(e,t){(a=r[e])&&(s=a._nr,i=W(t,s,!0),V._isVisible&&(v&&i._$3d.html(P(i,s,i._first+D-h+1,i._last-D+h,!0)),i._$scroller.html(P(i,s,i._first,i._last)).css("margin-top",i._margin+"px"),i._refresh(b)))}),!V._isVisible||V._isLiquid||b||V.position(),b||$(t,void 0,void 0,n)},V.getValidValue=I,V._generateContent=function(){var s,i=0,a="",r=v?he+"transform: translateZ("+(_*T.rows/2+3)+"px);":"",o='<div class="mbsc-sc-whl-l" style="'+r+"height:"+_+"px;margin-top:-"+(_/2+(T.selectedLineBorder||0))+'px;"></div>',l=0;return Me.each(T.wheels,function(e,t){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(v?" mbsc-sc-whl-gr-3d-c":"")+(T.showLabel?" mbsc-sc-lbl-v":"")+'">'+o+'<div class="mbsc-sc-whl-gr'+(v?" mbsc-sc-whl-gr-3d":"")+(c?" mbsc-sc-cp":"")+(T.width||T.maxWidth?'"':'" style="max-width:'+T.maxPopupWidth+'px;"')+">",Me.each(t,function(e,t){V._tempSelected[l]=le({},V._selected[l]);var n=W(t,l);k[l]=n,i+=T.maxWidth?T.maxWidth[l]||T.maxWidth:T.width?T.width[l]||T.width:0,s=void 0!==n.label?n.label:e,a+='<div class="mbsc-sc-whl-w '+(n.cssClass||"")+(n.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(T.width?"width:"+(T.width[l]||T.width)+"px;":(T.minWidth?"min-width:"+(T.minWidth[l]||T.minWidth)+"px;":"")+(T.maxWidth?"max-width:"+(T.maxWidth[l]||T.maxWidth)+"px;":""))+'">'+(d?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div>':"")+'<div class="mbsc-sc-whl-o" style="'+r+'"></div>'+o+'<div aria-live="off" aria-label="'+s+'"'+(n.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+l+'" class="mbsc-sc-whl" style="height:'+T.rows*_*(v?1.1:1)+'px;">'+(c?'<div data-index="'+l+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+(T.btnPlusClass||"")+'"></div><div data-index="'+l+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+(T.btnMinusClass||"")+'"></div>':"")+'<div class="mbsc-sc-lbl">'+s+'</div><div class="mbsc-sc-whl-c" style="height:'+u+"px;margin-top:-"+(u/2+1)+"px;"+r+'"><div class="mbsc-sc-whl-sc" style="top:'+(u-_)/2+'px;">',a+=P(n,l,n._first,n._last)+"</div></div>",v&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+_+"px;margin-top:-"+_/2+'px;">',a+=P(n,l,n._first+D-h+1,n._last-D+h,!0),a+="</div>"),a+="</div></div>",l++}),a+="</div></div>"}),i&&(T.maxPopupWidth=i),a},V._attachEvents=function(e){function n(e){var t;h=Me(e.currentTarget),y=+h.attr("data-step"),m=+h.attr("data-index"),f=!0,u&&e.stopPropagation(),"touchstart"==e.type&&h.closest(".mbsc-no-touch").removeClass("mbsc-no-touch"),"mousedown"==e.type&&e.preventDefault(),t="keydown"!=e.type?(b=Te(e,"X"),g=Te(e,"Y"),ve(e,this)):32===e.keyCode,p||!t||h.hasClass("mbsc-disabled")||(a(m,y,e)&&(h.addClass("mbsc-active"),d&&d.addRipple(h.find(".mbsc-segmented-content"),e)),"mousedown"==e.type&&Me(document).on("mousemove",s).on("mouseup",i))}function s(e){(7<Math.abs(b-Te(e,"X"))||7<Math.abs(g-Te(e,"Y")))&&(f=!0,t())}function i(e){"touchend"==e.type&&e.preventDefault(),t(),"mouseup"==e.type&&Me(document).off("mousemove",s).off("mouseup",i)}function t(){p=!1,clearInterval(w),h&&(h.removeClass("mbsc-active"),d&&setTimeout(function(){d.removeRipple()},100))}function a(e,t,n){return p||_(e)||(m=e,y=t,v=n,f=!(p=!0),setTimeout(r,100)),p}function r(){h&&h.hasClass("mbsc-disabled")?t():(!p&&f||(f=!0,l(m,y,v,r)),p&&c&&(clearInterval(w),w=setInterval(function(){l(m,y,v)},c)))}var o,l,c,u,d,h,f,m,p,v,b,g,y,w,_;o=Me(".mbsc-sc-btn",e),l=N,c=T.delay,u=!0,_=Y||se,o.each(function(e,t){ge(t,"touchstart",n,{passive:!0}),ge(t,"mousedown",n),ge(t,"keydown",n),ge(t,"touchmove",s,{passive:!0}),ge(t,"touchend",i),ge(t,"touchcancel",i),ge(t,"keyup",i)}),x={start:a,stop:t,destroy:function(){o.each(function(e,t){ye(t,"touchstart",n,{passive:!0}),ye(t,"mousedown",n),ye(t,"keydown",n),ye(t,"touchmove",s,{passive:!0}),ye(t,"touchend",i),ye(t,"touchcancel",i),ye(t,"keyup",i)})}},Me(".mbsc-sc-whl",e).on("keydown",E).on("keyup",A)},V._detachEvents=function(){x&&x.stop();for(var e=0;e<k.length;e++)k[e]._scroller.destroy()},V._markupReady=function(e){Me(".mbsc-sc-whl-w",n=e).each(function(u){var i,e=Me(this),d=k[u];d._$markup=e,d._$scroller=Me(".mbsc-sc-whl-sc",this),d._$3d=Me(".mbsc-sc-whl-3d",this),d._scroller=new Q(this,{mousewheel:T.mousewheel,moveElement:d._$scroller,scrollbar:Me(".mbsc-sc-bar-c",this),initialPos:(d._first-d._index)*_,contSize:T.rows*_,snap:_,minScroll:l(d),maxScroll:f(d),maxSnapScroll:D,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,n){var s=t?he+"transform "+Math.round(t)+"ms "+n:"";v&&(d._$3d[0].style[fe+"Transition"]=s,d._$3d[0].style[fe+"Transform"]="rotateX("+-e/_*g+"deg)")},onStart:function(e,t){t.settings.readonly=Y(u)},onGestureStart:function(){e.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),M("onWheelGestureStart",{index:u})},onGestureEnd:function(e){var t=90==e.direction?1:2,n=e.duration,s=e.destinationY;i=Math.round(-s/_)+d._offset,F(d,u,i,n,t)},onAnimationStart:function(){e.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){e.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),M("onWheelAnimationEnd",{index:u}),d._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(e){var t,n,s,i,a,r,o,l,c;t=d,n=u,s=e.posY,i=Math.round(-s/_)+t._offset,a=i-t._current,r=t._first,o=t._last,l=r+D-h+1,c=o-D+h,a&&(t._first+=a,t._last+=a,t._current=i,0<a?(t._$scroller.append(P(t,n,Math.max(o+1,r+a),o+a)),Me(".mbsc-sc-itm",t._$scroller).slice(0,Math.min(a,o-r+1)).remove(),v&&(t._$3d.append(P(t,n,Math.max(c+1,l+a),c+a,!0)),Me(".mbsc-sc-itm",t._$3d).slice(0,Math.min(a,c-l+1)).attr("class","mbsc-sc-itm-del"))):a<0&&(t._$scroller.prepend(P(t,n,r+a,Math.min(r-1,o+a))),Me(".mbsc-sc-itm",t._$scroller).slice(Math.max(a,r-o-1)).remove(),v&&(t._$3d.prepend(P(t,n,l+a,Math.min(l-1,c+a),!0)),Me(".mbsc-sc-itm",t._$3d).slice(Math.max(a,l-c-1)).attr("class","mbsc-sc-itm-del"))),t._margin+=a*_,t._$scroller.css("margin-top",t._margin+"px"))},onBtnTap:function(e){a(u,Me(e.target))}})}),$()},V._fillValue=function(){z(V._hasValue=!0,!0,0,!0)},V._clearValue=function(){Me(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",n).removeClass(y).removeAttr("aria-selected")},V._readValue=function(){var e=o.val()||"",n=0;""!==e&&(V._hasValue=!0),V._tempWheelArray=w=V._hasValue&&V._wheelArray?V._wheelArray.slice(0):T.parseValue.call(p,e,V)||[],V._tempSelected=le(!0,{},V._selected),Me.each(T.wheels,function(e,t){Me.each(t,function(e,t){k[n]=W(t,n),n++})}),z(!1,!1,0,!0),M("onRead")},V.__processSettings=function(e){T=V.settings,M=V.trigger,C=T.multiline,y="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+T.checkIcon,(d=!T.touchUi)&&(T.tapSelect=!0,T.circular=!1,T.rows=e.rows||t.rows||7)},V.__init=function(e){e&&(V._wheelArray=null),k=[],r={},c=T.showScrollArrows,v=T.scroll3d&&Xe&&!c&&!d&&("ios"==T.theme||"ios"==T.baseTheme),_=T.height,u=v?2*Math.round((_-.03*(_*T.rows/2+3))/2):_,h=Math.round(1.8*T.rows),g=360/(2*h),c&&(T.rows=Math.max(3,T.rows))},V._getItemValue=H,V._tempSelected={},V._selected={},e||V.init()}Ue.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:ee,_defaults:le({},G.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,n){var s,i,a=[],r=[],o=0;return null!=e&&(a=(e+"").split(" ")),Me.each(n.settings.wheels,function(e,t){Me.each(t,function(e,t){i=t.data,s=n._getItemValue(i[0]),Me.each(i,function(e,t){if(a[o]==n._getItemValue(t))return s=n._getItemValue(t),!1}),r.push(s),o++})}),r}})},X.Scroller=Ue;function Be(g){function e(e){var t,n,s,i,a=[];if(e){for(t=0;t<e.length;t++)if((n=e[t]).start&&n.end&&!Se.test(n.start))for(s=new Date(De(n.start,D,H)),i=new Date(De(n.end,D,H));s<=i;)a.push(ce(s.getFullYear(),s.getMonth(),s.getDate())),s.setDate(s.getDate()+1);else a.push(n);return a}return e}function A(e,t,n,s){return Math.min(s,Math.floor(e/t)*t+n)}function t(e,t,n){return Math.floor((n-t)/e)*e+t}function a(e){return e.getFullYear()+"-"+re(e.getMonth()+1)+"-"+re(e.getDate())}function o(e,t,n,s){var i;return void 0===C[t]||(i=+e[C[t]],isNaN(i))?n?ie[t](n):void 0!==r[t]?r[t]:ie[t](s):i}function y(e){var t,n=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==C.dd&&(t=e[C.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==C.tt&&(t=t||n,t=new Date(t.getTime()+e[C.tt]%86400*1e3));var s=o(e,"y",t,n),i=o(e,"m",t,n),a=Math.min(o(e,"d",t,n),H.getMaxDayOfMonth(s,i)),r=o(e,"h",t,n);return H.getDate(s,i,a,z&&o(e,"a",t,n)?r+12:r,o(e,"i",t,n),o(e,"s",t,n),o(e,"u",t,n))}function w(e,t){var n,s,i=["y","m","d","a","h","i","s","u","dd","tt"],a=[];if(null==e)return e;for(n=0;n<i.length;n++)void 0!==C[s=i[n]]&&(a[C[s]]=ie[s](e)),t&&(r[s]=ie[s](e));return a}function n(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function h(e){return{value:e,display:(/yy/i.test(E)?e:(e+"").substr(2,2))+(H.yearSuffix||"")}}function f(e){return e}function m(s){var i=/d/i.test(s);return{label:"",cssClass:"mbsc-dt-whl-date",min:I?n(a(I),i):void 0,max:$?n(a($),i):void 0,data:function(e){var t=new Date((new Date).setHours(0,0,0,0)),n=i?new Date(864e5*e):new Date(1970,e,1);return i&&(n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),{invalid:i&&!x(n,!0),value:a(n),display:t.getTime()==n.getTime()?H.todayText:ue(s,n,H)}},getIndex:function(e){return n(e,i)}}}function p(e){var t,n,s,i=[];for(/s/i.test(e)?n=j:/i/i.test(e)?n=60*B:/h/i.test(e)&&(n=3600*U),O=se.tt=n,t=0;t<86400;t+=n)s=new Date((new Date).setHours(0,0,0,0)+1e3*t),i.push({value:t,display:ue(e,s,H)});return{label:"",cssClass:"mbsc-dt-whl-time",data:i}}function _(e,t){return H.getYear(e)===H.getYear(t)&&H.getMonth(e)===H.getMonth(t)}function x(e,t){return!(!t&&e<I)&&(!(!t&&$<e)&&(!!s(e,P)||!s(e,W)))}function s(e,t){var n,s,i,a;if(t)for(s=0;s<t.length;s++)if(i=(a=(n=t[s]).d||n)+"",!n.start)if(Ee.test(i)){if((i=+i.replace("w",""))==e.getDay())return!0}else if(Ve.test(i)){if((i=i.split("/"))[1]){if(i[0]-1==e.getMonth()&&i[1]==e.getDate())return!0}else if(i[0]==e.getDate())return!0}else if(n=De(a,D,H),e.getFullYear()==n.getFullYear()&&e.getMonth()==n.getMonth()&&e.getDate()==n.getDate())return!0;return!1}function T(e,t,n,s,i,a,r){var o,l,c,u,d;if(e)for(c=0;c<e.length;c++)if(d=(l=(o=e[c]).d||o)+"",!o.start)if(Ee.test(d))for(u=(d=+d.replace("w",""))-s;u<i;u+=7)0<=u&&(a[u+1]=r);else Ve.test(d)?(d=d.split("/"))[1]?d[0]-1==n&&(a[d[1]]=r):a[d[0]]=r:(o=De(l,D,H),H.getYear(o)==t&&H.getMonth(o)==n&&(a[H.getDay(o)]=r))}function M(e,t,n,s,i,a,r,o){var l,c,u,d,h,f,m,p,v,b,g,y,w,_,x,T,M,C,k,D,S={},V=H.getDate(s,i,a),E=["a","h","i","s"];if(e){for(m=0;m<e.length;m++)(g=e[m]).start&&(g.apply=!1,C=(M=(u=g.d)+"").split("/"),u&&(u.getTime&&s==H.getYear(u)&&i==H.getMonth(u)&&a==H.getDay(u)||!Ee.test(M)&&(C[1]&&a==C[1]&&i==C[0]-1||!C[1]&&a==C[0])||Ee.test(M)&&V.getDay()==+M.replace("w",""))&&(g.apply=!0,S[V]=!0));for(m=0;m<e.length;m++)if(g=e[m],T=l=0,p=te[n],v=ne[n],c=!(x=_=!0),g.start&&(g.apply||!g.d&&!S[V])){for(y=g.start.split(":"),w=g.end.split(":"),b=0;b<3;b++)void 0===y[b]&&(y[b]=0),void 0===w[b]&&(w[b]=59),y[b]=+y[b],w[b]=+w[b];if("tt"==n)p=A(Math.round((new Date(V).setHours(y[0],y[1],y[2])-new Date(V).setHours(0,0,0,0))/1e3),O,0,86400),v=A(Math.round((new Date(V).setHours(w[0],w[1],w[2])-new Date(V).setHours(0,0,0,0))/1e3),O,0,86400);else{for(y.unshift(11<y[0]?1:0),w.unshift(11<w[0]?1:0),z&&(12<=y[1]&&(y[1]=y[1]-12),12<=w[1]&&(w[1]=w[1]-12)),b=0;b<t;b++)void 0!==L[b]&&(k=A(y[b],se[E[b]],te[E[b]],ne[E[b]]),D=A(w[b],se[E[b]],te[E[b]],ne[E[b]]),f=h=d=0,z&&1==b&&(d=y[0]?12:0,h=w[0]?12:0,f=L[0]?12:0),_||(k=0),x||(D=ne[E[b]]),(_||x)&&k+d<L[b]+f&&L[b]+f<D+h&&(c=!0),L[b]!=k&&(_=!1),L[b]!=D&&(x=!1));if(!o)for(b=t+1;b<4;b++)0<y[b]&&(l=se[n]),w[b]<ne[E[b]]&&(T=se[n]);c||(k=A(y[t],se[n],te[n],ne[n])+l,D=A(w[t],se[n],te[n],ne[n])-T,_&&(p=k),x&&(v=D))}if(_||x||c)for(b=p;b<=v;b+=se[n])r[b]=!o}}}var O,v,i,C={},r={},b={},L=[],l=function(e){var t,n,s,i={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",i.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}i.format=t,n=e.attr("min"),s=e.attr("max"),n&&"undefined"!=n&&(i.min=de(t,n)),s&&"undefined"!=s&&(i.max=de(t,s))}return i}(Me(this)),c=le({},g.settings),u=ae[c.calendarSystem],H=le(g.settings,Ae,u,je,l,c),k=H.preset,d="datetime"==k?H.dateFormat+H.separator+H.timeFormat:"time"==k?H.timeFormat:H.dateFormat,D=l.format||d,S=H.dateWheels||H.dateFormat,V=H.timeWheels||H.timeFormat,E=H.dateWheels||H.dateDisplay,N=V,Y=H.baseTheme||H.theme,W=e(H.invalid),P=e(H.valid),I=De(H.min,D,H),$=De(H.max,D,H),F=/time/i.test(k),z=/h/.test(N),X=/D/.test(E),R=H.steps||{},U=R.hour||H.stepHour||1,B=R.minute||H.stepMinute||1,j=R.second||H.stepSecond||1,q=R.zeroBased,Z=q||!I?0:I.getHours()%U,G=q||!I?0:I.getMinutes()%B,J=q||!I?0:I.getSeconds()%j,K=t(U,Z,z?11:23),Q=t(B,G,59),ee=t(B,G,59),te={y:I?I.getFullYear():-1/0,m:0,d:1,h:Z,i:G,s:J,a:0,tt:0},ne={y:$?$.getFullYear():1/0,m:11,d:31,h:K,i:Q,s:ee,a:1,tt:86400},se={y:1,m:1,d:1,h:U,i:B,s:j,a:1,tt:1},ie={y:function(e){return H.getYear(e)},m:function(e){return H.getMonth(e)},d:function(e){return H.getDay(e)},h:function(e){var t=e.getHours();return A(t=z&&12<=t?t-12:t,U,Z,K)},i:function(e){return A(e.getMinutes(),B,G,Q)},s:function(e){return A(e.getSeconds(),j,J,ee)},u:function(e){return e.getMilliseconds()},a:function(e){return 11<e.getHours()?1:0},dd:a,tt:function(e){return A(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),O||1,0,86400)}};return g.getVal=function(e){return g._hasValue||e?ke(y(g.getArrayVal(e)),H,D):null},g.getDate=function(e){return g._hasValue||e?y(g.getArrayVal(e)):null},g.setDate=function(e,t,n,s,i){g.setArrayVal(w(e,!0),t,i,s,n)},i=function(){var e,t,n,s,i,a,r,o,l=0,c=[],u=[],d=[];if(/date/i.test(k)){for(e=S.split(/\|/.test(S)?"|":""),s=0;s<e.length;s++)if(a=0,(n=e[s]).length)if(/y/i.test(n)&&(b.y=1,a++),/m/i.test(n)&&(b.y=1,b.m=1,a++),/d/i.test(n)&&(b.y=1,b.m=1,b.d=1,a++),1<a&&void 0===C.dd)C.dd=l,l++,u.push(m(n)),d=u,v=!0;else if(/y/i.test(n)&&void 0===C.y)C.y=l,l++,u.push({cssClass:"mbsc-dt-whl-y",label:H.yearText,min:I?H.getYear(I):void 0,max:$?H.getYear($):void 0,data:h,getIndex:f});else if(/m/i.test(n)&&void 0===C.m){for(C.m=l,r=[],l++,i=0;i<12;i++)o=E.replace(/[dy|]/gi,"").replace(/mm/,re(i+1)+(H.monthSuffix||"")).replace(/m/,i+1+(H.monthSuffix||"")),r.push({value:i,display:/MM/.test(o)?o.replace(/MM/,'<span class="mbsc-dt-month">'+H.monthNames[i]+"</span>"):o.replace(/M/,'<span class="mbsc-dt-month">'+H.monthNamesShort[i]+"</span>")});u.push({cssClass:"mbsc-dt-whl-m",label:H.monthText,data:r})}else if(/d/i.test(n)&&void 0===C.d){for(C.d=l,r=[],l++,i=1;i<32;i++)r.push({value:i,display:(/dd/i.test(E)?re(i):i)+(H.daySuffix||"")});u.push({cssClass:"mbsc-dt-whl-d",label:H.dayText,data:r})}c.push(u)}if(/time/i.test(k)){for(t=V.split(/\|/.test(V)?"|":""),s=0;s<t.length;s++)if(a=0,(n=t[s]).length&&(/h/i.test(n)&&(b.h=1,a++),/i/i.test(n)&&(b.i=1,a++),/s/i.test(n)&&(b.s=1,a++),/a/i.test(n)&&a++),1<a&&void 0===C.tt)C.tt=l,l++,d.push(p(n));else if(/h/i.test(n)&&void 0===C.h){for(r=[],C.h=l,b.h=1,l++,i=Z;i<(z?12:24);i+=U)r.push({value:i,display:z&&0===i?12:/hh/i.test(N)?re(i):i});d.push({cssClass:"mbsc-dt-whl-h",label:H.hourText,data:r})}else if(/i/i.test(n)&&void 0===C.i){for(r=[],C.i=l,b.i=1,l++,i=G;i<60;i+=B)r.push({value:i,display:/ii/i.test(N)?re(i):i});d.push({cssClass:"mbsc-dt-whl-i",label:H.minuteText,data:r})}else if(/s/i.test(n)&&void 0===C.s){for(r=[],C.s=l,b.s=1,l++,i=J;i<60;i+=j)r.push({value:i,display:/ss/i.test(N)?re(i):i});d.push({cssClass:"mbsc-dt-whl-s",label:H.secText,data:r})}else/a/i.test(n)&&void 0===C.a&&(C.a=l,l++,d.push({cssClass:"mbsc-dt-whl-a",label:H.ampmText,data:/A/.test(n)?[{value:0,display:H.amText.toUpperCase()},{value:1,display:H.pmText.toUpperCase()}]:[{value:0,display:H.amText},{value:1,display:H.pmText}]}));d!=u&&c.push(d)}return c}(),H.isoParts=b,g._format=d,g._order=C,g.handlers.now=function(){g.setDate(new Date,g.live,1e3,!0,!0)},g.buttons.now={text:H.nowText,icon:H.nowIcon,handler:"now"},{minWidth:v&&F?{bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50}[Y]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:i,headerText:!!H.headerText&&function(){return ue(d,y(g.getArrayVal(!0)),H)},formatValue:function(e){return ue(D,y(e),H)},parseValue:function(e){return e||(r={},g._hasValue=!1),w(De(e||H.defaultValue||new Date,D,H,b),!!e)},validate:function(e){var t,o,n,s,i=e.values,a=e.index,r=e.direction,l=H.wheels[0][C.d],c=function(e,t){var n,s,i=!1,a=!1,r=0,o=0,l=I?y(w(I)):-1/0,c=$?y(w($)):1/0;if(x(e))return e;if(e<l&&(e=l),c<e&&(e=c),s=n=e,2!==t)for(i=x(n,!0);!i&&n<c&&r<100;)i=x(n=new Date(n.getTime()+864e5),!0),r++;if(1!==t)for(a=x(s,!0);!a&&l<s&&o<100;)a=x(s=new Date(s.getTime()-864e5),!0),o++;return 1===t&&i?n:2===t&&a?s:_(e,n)?n:_(e,s)?s:o<=r&&a?s:n}(y(i),r),u=w(c),d=[],h={},f=ie.y(c),m=ie.m(c),p=H.getMaxDayOfMonth(f,m),v=!0,b=!0;if(Me.each(["dd","y","m","d","tt","a","h","i","s"],function(e,n){var t=te[n],s=ne[n],i=ie[n](c);if(d[C[n]]=[],v&&I&&(t=ie[n](I)),b&&$&&(s=ie[n]($)),i<t&&(i=t),s<i&&(i=s),"dd"!==n&&"tt"!==n&&(v=v&&i==t,b=b&&i==s),void 0!==C[n]){if("y"!=n&&"dd"!=n)for(o=te[n];o<=ne[n];o+=se[n])(o<t||s<o)&&d[C[n]].push(o);if("d"==n){var a=H.getDate(f,m,1).getDay(),r={};T(W,f,m,a,p,r,1),T(P,f,m,a,p,r,0),Me.each(r,function(e,t){t&&d[C[n]].push(e)})}}}),F&&Me.each(["a","h","i","s","tt"],function(e,n){var t=ie[n](c),s=ie.d(c),i={};void 0!==C[n]&&(M(W,e,n,f,m,s,i,0),M(P,e,n,f,m,s,i,1),Me.each(i,function(e,t){t&&d[C[n]].push(e)}),L[e]=g.getValidValue(C[n],t,r,i))}),l&&(l.data.length!==p||X&&(void 0===a||a===C.y||a===C.m))){for((h[C.d]=l).data=[],t=1;t<=p;t++)s=H.getDate(f,m,t).getDay(),n=E.replace(/[my|]/gi,"").replace(/dd/,(t<10?"0"+t:t)+(H.daySuffix||"")).replace(/d/,t+(H.daySuffix||"")),l.data.push({value:t,display:/DD/.test(n)?n.replace(/DD/,'<span class="mbsc-dt-day">'+H.dayNames[s]+"</span>"):n.replace(/D/,'<span class="mbsc-dt-day">'+H.dayNamesShort[s]+"</span>")});g._tempWheelArray[C.d]=u[C.d],g.changeWheel(h)}return{disabled:d,valid:u}}}}var je={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"};ee.date=Be,ee.time=Be,ee.datetime=Be,N("date",Ue),N("time",Ue),N("datetime",Ue),_.customTheme("mobiscroll-dark","mobiscroll");var qe=_.themes,Ze="mobiscroll";return"android"==e?Ze="material":"ios"==e?Ze="ios":"wp"==e&&(Ze="windows"),Me.each(qe.frame,function(e,t){if(Ze&&t.baseTheme==Ze&&e!=Ze+"-dark")return _.autoTheme=e,!1;e==Ze&&(_.autoTheme=e)}),_});
